(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin-users"],{"21b9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.dataTableLoading,"no-data-text":e.$t("dataTable.NO_DATA"),"no-results-text":e.$t("dataTable.NO_RESULTS"),headers:e.headers,items:e.items,options:e.pagination,"items-per-page":5,"server-items-length":e.totalItems,"footer-props":{"items-per-page-text":e.$t("dataTable.ROWS_PER_PAGE"),"items-per-page-options":[5,10,25]}},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md4:"","mt-3":"","pl-4":""}},[a("div",{staticClass:"text-left"},[a("v-toolbar-title",[e._v(e._s(e.$t("events.TITLE")))])],1)]),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:e.$t("dataTable.SEARCH"),"single-line":"","hide-details":"",clearable:"",id:"search","clear-icon":"mdi-close"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","mb-2":"","mt-2":"","pr-2":""}},[a("ValidationObserver",{ref:"observer",attrs:{tag:"form"},on:{submit:function(t){return t.preventDefault(),e.submit()}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid;return[a("v-dialog",{attrs:{"max-width":"500px","content-class":"dlgNewEditItem"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("div",{staticClass:"text-right"},[a("v-btn",e._g({staticClass:"btnNewItem",attrs:{color:"secondary"}},n),[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-plus")]),e._v(" "+e._s(e.$t("dataTable.NEW_ITEM"))+" ")],1)],1)]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[e.editedItem._id?[a("v-flex",{attrs:{xs12:"",md6:""}},[a("label",{attrs:{for:"createdAt"}},[e._v(e._s(e.$t("common.CREATED")))]),a("div",{attrs:{name:"createdAt"}},[e._v(" "+e._s(e.getFormat(e.editedItem.createdAt))+" ")])]),a("v-flex",{attrs:{xs12:"",md6:""}},[a("label",{attrs:{for:"updatedAt"}},[e._v(e._s(e.$t("common.UPDATED")))]),a("div",{attrs:{name:"updatedAt"}},[e._v(" "+e._s(e.getFormat(e.editedItem.updatedAt))+" ")])])]:e._e(),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"name",name:"name",label:e.$t("events.headers.NAME"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"info",name:"info",label:e.$t("events.headers.INFO"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.info,callback:function(t){e.$set(e.editedItem,"info",t)},expression:"editedItem.info"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-select",{staticClass:"inputType",attrs:{clearable:"",id:"type",name:"type",items:e.types,"item-text":"name","item-value":"value",label:e.$t("events.headers.TYPE"),dateFormat:"MMMM Do YYYY h:mm:ss a",error:n.length>0,"error-messages":n[0]},model:{value:e.editedItem.type,callback:function(t){e.$set(e.editedItem,"type",t)},expression:"editedItem.type"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-datetime-picker",{attrs:{required:"",id:"start",name:"start",label:e.$t("events.headers.START_TIME"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.start,callback:function(t){e.$set(e.editedItem,"start",t)},expression:"editedItem.start"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-datetime-picker",{attrs:{required:"",id:"end",name:"end",label:e.$t("events.headers.END_TIME"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.end,callback:function(t){e.$set(e.editedItem,"end",t)},expression:"editedItem.end"}})]}}],null,!0)})],1)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btnCancel",attrs:{color:"red lighten3",text:""},on:{click:e.close}},[e._v(e._s(e.$t("dataTable.CANCEL")))]),a("v-btn",{staticClass:"btnSave",attrs:{color:"green lighten3",text:"",disabled:n},on:{click:e.save}},[e._v(e._s(e.$t("dataTable.SAVE")))])],1)],1)],1)]}}])})],1)],1)]},proxy:!0},{key:"item._id",fn:function(t){var n=t.item;return[a("v-layout",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"view",icon:"",to:"events/"+n._id,color:"accent"}},r),[a("v-icon",[e._v("mdi-eye")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.VIEW")))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"edit",icon:"",color:"primary"},on:{click:function(t){return e.editItem(n)}}},r),[a("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.EDIT")))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"delete",icon:"",color:"secondary"},on:{click:function(t){return e.deleteItem(n)}}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.DELETE")))])])],1)]}},{key:"item.createdAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getFormat(a.createdAt))+" ")]}},{key:"item.updatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getFormat(a.updatedAt))+" ")]}},{key:"footer.page-text",fn:function(t){var a=t.pageStart,n=t.pageStop,r=t.itemsLength;return[e._v(" "+e._s(a)+" - "+e._s(n)+" "+e._s(e.$t("dataTable.OF"))+" "+e._s(r)+" ")]}},{key:"no-data",fn:function(){return[e._v(e._s(e.$t("dataTable.NO_DATA")))]},proxy:!0},{key:"no-results",fn:function(){return[e._v(e._s(e.$t("dataTable.NO_RESULTS")))]},proxy:!0}])}),a("ErrorMessage"),a("SuccessMessage")],1)},r=[],s=(a("a15b"),a("b0c0"),a("ac1f"),a("841c"),a("5530")),i=(a("96cf"),a("1da1")),o=a("2f62"),d=a("fa7d"),l={metaInfo:function(){return{title:this.$store.getters.appTitle,titleTemplate:"".concat(this.$t("events.TITLE")," - %s")}},data:function(){return{dataTableLoading:!0,delayTimer:null,dialog:!1,search:"",pagination:{},editedItem:{},defaultItem:{},fieldsToSearch:["name","type"]}},computed:{formTitle:function(){return this.editedItem._id?this.$t("dataTable.EDIT_ITEM"):this.$t("dataTable.NEW_ITEM")},types:function(){return[{name:this.$t("eventTypes.MEETING"),value:"meeting"},{name:this.$t("eventTypes.SESSION"),value:"session"}]},startClean:function(){return"2020-05-23 00:00"},headers:function(){return[{text:this.$i18n.t("dataTable.ACTIONS"),value:"_id",sortable:!1,width:100},{text:this.$i18n.t("events.headers.NAME"),align:"left",sortable:!0,value:"name"},{text:this.$i18n.t("events.headers.TYPE"),align:"left",sortable:!0,value:"type"},{text:this.$i18n.t("events.headers.START_TIME"),align:"left",sortable:!0,value:"start"},{text:this.$i18n.t("events.headers.END_TIME"),align:"left",sortable:!0,value:"end"}]},items:function(){return this.$store.state.adminEvents.events},totalItems:function(){return this.$store.state.adminEvents.totalEvents}},watch:{dialog:function(e){return!!e||this.close()},pagination:{handler:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dataTableLoading=!0,t.next=4,e.getEvents(Object(d["a"])(e.pagination,e.buildSearch()));case 4:e.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.dataTableLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deep:!0},search:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:clearTimeout(e.delayTimer),e.delayTimer=setTimeout((function(){e.doSearch()}),400);case 2:case"end":return t.stop()}}),t)})))()}},methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])(["getEvents","editEvent","saveEvent","deleteEvent"])),{},{getFormat:function(e){return window.__localeId__=this.$store.getters.locale,Object(d["e"])(e,"iii, MMMM d yyyy, h:mm a")},doSearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dataTableLoading=!0,t.next=4,e.getEvents(Object(d["a"])(e.pagination,e.buildSearch()));case 4:e.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.dataTableLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},buildSearch:function(){return this.search?{query:this.search,fields:this.fieldsToSearch.join(",")}:{}},editItem:function(e){this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm(t.$t("common.DO_YOU_REALLY_WANT_TO_DELETE_THIS_ITEM"),{title:t.$t("common.WARNING"),buttonTrueText:t.$t("common.DELETE"),buttonFalseText:t.$t("common.CANCEL"),buttonTrueColor:"red lighten3",buttonFalseColor:"green"});case 3:if(n=a.sent,!n){a.next=11;break}return t.dataTableLoading=!0,a.next=8,t.deleteEvent(e._id);case 8:return a.next=10,t.getEvents(Object(d["a"])(t.pagination,t.buildSearch()));case 10:t.dataTableLoading=!1;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),t.dataTableLoading=!1;case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem)}),300)},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.observer.validate();case 2:if(a=t.sent,!a){t.next=26;break}if(t.prev=4,e.dataTableLoading=!0,!e.editedItem._id){t.next=14;break}return t.next=9,e.editEvent(e.editedItem);case 9:return t.next=11,e.getEvents(Object(d["a"])(e.pagination,e.buildSearch()));case 11:e.dataTableLoading=!1,t.next=19;break;case 14:return t.next=16,e.saveEvent({name:e.editedItem.name,info:e.editedItem.info,type:e.editedItem.type,start:e.editedItem.start,end:e.editedItem.end});case 16:return t.next=18,e.getEvents(Object(d["a"])(e.pagination,e.buildSearch()));case 18:e.dataTableLoading=!1;case 19:e.close(),t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](4),e.dataTableLoading=!1,e.close();case 26:case"end":return t.stop()}}),t,null,[[4,22]])})))()}})},c=l,u=(a("a697"),a("2877")),m=a("6544"),v=a.n(m),f=a("8336"),p=a("b0af"),b=a("99d9"),h=a("a523"),g=a("8fea"),_=a("169a"),x=a("0e8f"),T=a("132d"),I=a("a722"),k=a("b974"),y=a("2fa4"),$=a("8654"),S=a("2a7f"),E=a("3a2f"),A=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=A.exports;v()(A,{VBtn:f["a"],VCard:p["a"],VCardActions:b["b"],VCardText:b["d"],VCardTitle:b["e"],VContainer:h["a"],VDataTable:g["a"],VDialog:_["a"],VFlex:x["a"],VIcon:T["a"],VLayout:I["a"],VSelect:k["a"],VSpacer:y["a"],VTextField:$["a"],VToolbarTitle:S["c"],VTooltip:E["a"]})},2532:function(e,t,a){"use strict";var n=a("23e7"),r=a("5a34"),s=a("1d80"),i=a("ab13");n({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(s(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"3b71":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-tabs",{attrs:{"background-color":"transparent",grow:""},on:{change:e.tabHandler},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",[e._v(" Scan ")]),a("v-tab",[e._v(" View Attendees ")]),a("v-tab",[e._v(" Info ")]),a("v-tab-item",{staticStyle:{height:"calc(100vh - 145px)"}},[a("h1",[e._v(e._s(e.sAdd))]),a("ErrorMessage"),a("SuccessMessage")],1),a("v-tab-item",[a("h1",[e._v("View Attendees")]),a("v-container",[a("v-data-iterator",{attrs:{items:e.attendees,search:e.search,"sort-by":e.sortBy.toLowerCase(),"sort-desc":e.sortDesc},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-row",{staticClass:"px-4 my-4",attrs:{dense:""}},[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"search",label:"Search",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[a("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:e.keys,"prepend-inner-icon":"filter_list",label:"Sort by",dense:""},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"2"}},[a("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[a("v-btn",{staticClass:"dense-button",attrs:{large:"",depressed:"",value:!1}},[a("v-icon",[e._v("mdi-arrow-up")])],1),a("v-btn",{staticClass:"dense-button",attrs:{large:"",depressed:"",value:!0}},[a("v-icon",[e._v("mdi-arrow-down")])],1)],1)],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"1"}},[a("v-btn",{staticClass:"dense-button",attrs:{large:""},on:{click:function(t){return e.tabHandler(2)}}},[a("v-icon",[e._v("mdi-refresh")])],1)],1)],1)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",{attrs:{"no-gutters":""}},e._l(t.items,(function(t){return a("v-col",{key:t._id,attrs:{cols:"12",sm:"6",md:"4"}},[a("v-card",{staticClass:"ma-4",attrs:{"max-width":"500"}},[a("v-card-title",[e._v(e._s(t.name))]),a("v-card-subtitle",{staticClass:"text-left"},[e._v(e._s("Username: "+t.username))]),a("v-card-actions",[a("v-btn",{staticClass:"action-button",attrs:{color:"red",text:""},on:{click:function(a){return e.handleToggleButtons(t,!1)}}},[e._v("Absent")]),a("v-switch",{attrs:{value:"","input-value":t.present},on:{click:function(a){return e.handleToggle(t)}}}),a("v-btn",{staticClass:"action-button",attrs:{color:"green",text:""},on:{click:function(a){return e.handleToggleButtons(t,!0)}}},[e._v(" Present ")]),a("v-spacer")],1)],1)],1)})),1)]}}])})],1)],1),a("v-tab-item",{staticStyle:{height:"calc(100vh - 145px)"}},[a("h1",[e._v("Info")]),a("h2",[e._v("Event Name: "+e._s(e.eventName)+" Type: "+e._s(e.eventType))]),a("h3",[e._v("Date Range: "+e._s(e.eventRange))]),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{width:"100%"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({},n),[e._v(e._s(e.attendedNum)+" Attended")])]}}]),model:{value:e.dialogA,callback:function(t){e.dialogA=t},expression:"dialogA"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Attended")])]),a("v-card-text",[a("v-data-iterator",{attrs:{items:e.attended,search:e.search,"sort-by":e.sortBy.toLowerCase(),"sort-desc":e.sortDesc},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-row",{staticClass:"px-4 my-4",attrs:{dense:""}},[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"search",label:"Search",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[a("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:e.keys,"prepend-inner-icon":"filter_list",label:"Sort by",dense:""},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"2"}},[a("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[a("v-btn",{staticClass:"dense-button",attrs:{large:"",depressed:"",value:!1}},[a("v-icon",[e._v("mdi-arrow-up")])],1),a("v-btn",{staticClass:"dense-button",attrs:{large:"",depressed:"",value:!0}},[a("v-icon",[e._v("mdi-arrow-down")])],1)],1)],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"1"}},[a("v-btn",{staticClass:"dense-button",attrs:{large:""},on:{click:function(t){return e.tabHandler(2)}}},[a("v-icon",[e._v("mdi-refresh")])],1)],1)],1)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",{attrs:{"no-gutters":""}},e._l(t.items,(function(t){return a("v-col",{key:t._id,attrs:{cols:"12",sm:"6",md:"4"}},[a("v-card",{staticClass:"ma-4",attrs:{"max-width":"500"}},[a("v-card-title",[e._v(e._s(t.name))]),a("v-card-subtitle",{staticClass:"text-left"},[e._v(e._s("Username: "+t.username))]),a("v-card-actions",[a("v-btn",{staticClass:"action-button",attrs:{color:"red",text:""},on:{click:function(a){return e.handleToggleButtons(t,!1)}}},[e._v("Absent")]),a("v-switch",{attrs:{value:"","input-value":t.present},on:{click:function(a){return e.handleToggle(t)}}}),a("v-btn",{staticClass:"action-button",attrs:{color:"green",text:""},on:{click:function(a){return e.handleToggleButtons(t,!0)}}},[e._v(" Present ")]),a("v-spacer")],1)],1)],1)})),1)]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialogA=!1}}},[e._v("close")])],1)],1)],1),a("v-btn",{attrs:{disabled:""}},[e._v("and")]),a("v-dialog",{attrs:{width:"100%"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({},n),[e._v(e._s(e.notAttendedNum)+" DIDN'T ATTEND")])]}}]),model:{value:e.dialogNa,callback:function(t){e.dialogNa=t},expression:"dialogNa"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Didn't Attend")])]),a("v-card-text",[a("v-data-iterator",{attrs:{items:e.notAttended,search:e.search,"sort-by":e.sortBy.toLowerCase(),"sort-desc":e.sortDesc},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-row",{staticClass:"px-4 my-4",attrs:{dense:""}},[a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"search",label:"Search",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[a("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:e.keys,"prepend-inner-icon":"filter_list",label:"Sort by",dense:""},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"2"}},[a("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[a("v-btn",{staticClass:"dense-button",attrs:{large:"",depressed:"",value:!1}},[a("v-icon",[e._v("mdi-arrow-up")])],1),a("v-btn",{staticClass:"dense-button",attrs:{large:"",depressed:"",value:!0}},[a("v-icon",[e._v("mdi-arrow-down")])],1)],1)],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"1"}},[a("v-btn",{staticClass:"dense-button",attrs:{large:""},on:{click:function(t){return e.tabHandler(2)}}},[a("v-icon",[e._v("mdi-refresh")])],1)],1)],1)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",{attrs:{"no-gutters":""}},e._l(t.items,(function(t){return a("v-col",{key:t._id,attrs:{cols:"12",sm:"6",md:"4"}},[a("v-card",{staticClass:"ma-4",attrs:{"max-width":"500"}},[a("v-card-title",[e._v(e._s(t.name))]),a("v-card-subtitle",{staticClass:"text-left"},[e._v(e._s("Username: "+t.username))]),a("v-card-actions",[a("v-btn",{staticClass:"action-button",attrs:{color:"red",text:""},on:{click:function(a){return e.handleToggleButtons(t,!1)}}},[e._v("Absent")]),a("v-switch",{attrs:{value:"","input-value":t.present},on:{click:function(a){return e.handleToggle(t)}}}),a("v-btn",{staticClass:"action-button",attrs:{color:"green",text:""},on:{click:function(a){return e.handleToggleButtons(t,!0)}}},[e._v(" Present ")]),a("v-spacer")],1)],1)],1)})),1)]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialogNa=!1}}},[e._v("close")])],1)],1)],1),a("v-btn",{attrs:{disabled:""}},[e._v("out of")]),a("v-btn",{nativeOn:{click:function(t){e.tab=1}}},[e._v(e._s(e.attendeeNum)+" attendees")])],1)],1)],1)],1)},r=[],s=(a("99af"),a("b0c0"),a("5530")),i=(a("96cf"),a("1da1")),o=a("2f62"),d=a("fa7d"),l=a("c1df"),c={metaInfo:function(){return{title:this.$route.params.id,titleTemplate:"".concat(this.$t("events.TITLE")," - %s")}},data:function(){return{sAdd:"No Card Swiped Yet.",tab:0,buffer:[],cardSwipeListener:void 0,search:"",sortBy:"name",keys:["name","username","email"],filter:{},sortDesc:!1,eventName:"eventName",eventType:"eventType",eventRange:"eventRange",attendeeNum:0,attendedNum:0,notAttendedNum:0,dialogA:!1,dialogNa:!1}},created:function(){document.addEventListener("keydown",this.registerKeyStrokes)},destroyed:function(){document.removeEventListener("keydown",this.registerKeyStrokes)},computed:{attendees:function(){return this.$store.state.adminAttendance.totalAttendance},attended:function(){return this.$store.state.adminAttendance.attendanceInfo.attended},notAttended:function(){return this.$store.state.adminAttendance.attendanceInfo.notAttended}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAttendance({_id:e.$route.params.id,eventId:e.$route.params.id});case 2:return t.next=4,e.getAttendanceInfo({_id:e.$route.params.id,eventId:e.$route.params.id});case 4:case"end":return t.stop()}}),t)})))()},watch:{},methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])(["addAttendance","delAttendance","getAttendance","getAttendanceInfo"])),{},{getFormat:function(e){return window.__localeId__=this.$store.getters.locale,Object(d["e"])(e,"iii, MMMM d yyyy, h:mm a")},registerKeyStrokes:function(e){var t=e.key.toLowerCase();this.buffer.push(t);var a=-1,n=-1;if("enter"===t){for(var r=0;r<this.buffer.length;r++)"-"===this.buffer[r]&&(a=r),"."===this.buffer[r]&&(n=r);if(-1===a&&-1===n)this.buffer=[];else{for(var s="",i=a;i<this.buffer.length-1;i++)"shift"!==this.buffer[i]&&(s+=this.buffer[i]);0==this.tab&&this.addAttendee(s,this.$route.params.id)}}},addAttendee:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.addAttendance({_id:t,eventId:t,card:e});case 3:a.sAdd="User Swiped Name: ".concat(a.$store.swipedUserData.data.name),n.next=10;break;case 6:return n.prev=6,n.t0=n["catch"](0),a.sAdd="Swipe Failed",n.abrupt("return",void 0);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))()},delAttendee:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.delAttendance({_id:t,eventId:t,card:e});case 3:n.next=8;break;case 5:return n.prev=5,n.t0=n["catch"](0),n.abrupt("return",void 0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},handleToggle:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(e),1!=e.present){a.next=7;break}return a.next=4,t.delAttendance({_id:t.$route.params.id,eventId:t.$route.params.id,username:e.username});case 4:e.present=!1,a.next=10;break;case 7:return a.next=9,t.addAttendance({_id:t.$route.params.id,eventId:t.$route.params.id,username:e.username});case 9:e.present=!0;case 10:case"end":return a.stop()}}),a)})))()},handleToggleButtons:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(e),t){n.next=7;break}return n.next=4,a.delAttendance({_id:a.$route.params.id,eventId:a.$route.params.id,username:e.username});case 4:e.present=!1,n.next=10;break;case 7:return n.next=9,a.addAttendance({_id:a.$route.params.id,eventId:a.$route.params.id,username:e.username});case 9:e.present=!0;case 10:case"end":return n.stop()}}),n)})))()},tabHandler:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("1"==e&&t.getAttendance({_id:t.$route.params.id,eventId:t.$route.params.id}),"2"!=e){a.next=9;break}return a.next=4,t.getAttendanceInfo({_id:t.$route.params.id,eventId:t.$route.params.id});case 4:t.eventName=t.$store.state.adminAttendance.attendanceInfo.eventData.name,t.eventType=t.$store.state.adminAttendance.attendanceInfo.eventData.type,t.eventRange="".concat(l(t.$store.state.adminAttendance.attendanceInfo.eventData.start).format("MM/DD/YY h:mm a")," - ").concat(l(t.$store.state.adminAttendance.attendanceInfo.eventData.end).format("MM/DD/YY h:mm a")),t.attendeeNum=t.$store.state.adminAttendance.totalAttendance.length,t.attendedNum=t.$store.state.adminAttendance.attendanceInfo.attended.length,t.notAttendedNum=t.$store.state.adminAttendance.attendanceInfo.notAttended.length;case 9:case"end":return a.stop()}}),a)})))()},handleInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAttendanceInfo({_id:e.$route.params.id,eventId:e.$route.params.id});case 2:e.eventName=e.$store.state.adminAttendance.attendanceInfo.eventData.name,e.eventType=e.$store.state.adminAttendance.attendanceInfo.eventData.type,e.eventRange=l(e.$store.state.adminAttendance.attendanceInfo.eventData.start).format("MM/DD/YY h:mm a")+" - "+l(e.$store.state.adminAttendance.attendanceInfo.eventData.end).format("MM/DD/YY h:mm a"),e.attendeeNum=e.$store.state.adminAttendance.totalAttendance.length,e.attendedNum=e.$store.state.adminAttendance.attendanceInfo.attended.length,e.notAttendedNum=e.$store.state.adminAttendance.attendanceInfo.notAttended.length;case 8:case"end":return t.stop()}}),t)})))()}})},u=c,m=(a("9a52"),a("2877")),v=a("6544"),f=a.n(v),p=a("8336"),b=a("a609"),h=a("b0af"),g=a("99d9"),_=a("62ad"),x=a("a523"),T=a("c377"),I=a("169a"),k=a("132d"),y=a("0fd9"),$=a("b974"),S=a("2fa4"),E=a("b73d"),A=a("71a3"),w=a("c671"),C=a("fe57"),O=a("8654"),L=Object(m["a"])(u,n,r,!1,null,null,null);t["default"]=L.exports;f()(L,{VBtn:p["a"],VBtnToggle:b["a"],VCard:h["a"],VCardActions:g["b"],VCardSubtitle:g["c"],VCardText:g["d"],VCardTitle:g["e"],VCol:_["a"],VContainer:x["a"],VDataIterator:T["a"],VDialog:I["a"],VIcon:k["a"],VRow:y["a"],VSelect:$["a"],VSpacer:S["a"],VSwitch:E["a"],VTab:A["a"],VTabItem:w["a"],VTabs:C["a"],VTextField:O["a"]})},"3bf5":function(e,t,a){"use strict";a("f01f")},"5a11":function(e,t,a){},"5a34":function(e,t,a){var n=a("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},7504:function(e,t,a){"use strict";a("5a11")},8410:function(e,t,a){},"99e7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-snackbar",{attrs:{"multi-line":!0,timeout:7500},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"red",text:""},on:{click:function(t){e.alert=!1}}},"v-btn",n,!1),[e._v(" Close ")])]}}]),model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(" "+e._s(e.alertText)+" ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.dataTableLoading,"no-data-text":e.$t("dataTable.NO_DATA"),"no-results-text":e.$t("dataTable.NO_RESULTS"),headers:e.headers,items:e.items,options:e.pagination,"items-per-page":5,"server-items-length":e.totalItems,"footer-props":{"items-per-page-text":e.$t("dataTable.ROWS_PER_PAGE"),"items-per-page-options":[5,10,25]}},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md4:"","mt-3":"","pl-4":""}},[a("div",{staticClass:"text-left"},[a("v-toolbar-title",[e._v(e._s(e.$t("books.TITLE")))])],1)]),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:e.$t("dataTable.SEARCH"),"single-line":"","hide-details":"",clearable:"",id:"search","clear-icon":"mdi-close"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","mb-2":"","mt-2":"","pr-2":""}},[a("ValidationObserver",{ref:"observer",attrs:{tag:"form"},on:{submit:function(t){return t.preventDefault(),e.submit()}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid;return[a("v-dialog",{attrs:{"max-width":"500px","content-class":"dlgNewEditItem"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("div",{staticClass:"text-right"},[a("v-btn",e._g({staticClass:"btnNewItem",attrs:{color:"secondary"}},n),[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-plus")]),e._v(" "+e._s(e.$t("dataTable.NEW_ITEM"))+" ")],1)],1)]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[e.editedItem._id?[a("v-flex",{attrs:{xs12:"",md6:""}},[a("label",{attrs:{for:"createdAt"}},[e._v(e._s(e.$t("common.CREATED")))]),a("div",{attrs:{name:"createdAt"}},[e._v(" "+e._s(e.getFormat(e.editedItem.createdAt))+" ")])]),a("v-flex",{attrs:{xs12:"",md6:""}},[a("label",{attrs:{for:"updatedAt"}},[e._v(e._s(e.$t("common.UPDATED")))]),a("div",{attrs:{name:"updatedAt"}},[e._v(" "+e._s(e.getFormat(e.editedItem.updatedAt))+" ")])]),a("v-flex",{attrs:{xs12:"",md6:""}},[a("label",{attrs:{for:"cover"}},[e._v(e._s(e.$t("books.COVER")))]),a("div",{attrs:{name:"cover"}},[a("v-img",{staticClass:"grey lighten-2",attrs:{src:"http://covers.openlibrary.org/b/isbn/"+e.editedItem.isbn+"-M.jpg","lazy-src":"http://covers.openlibrary.org/b/isbn/"+e.editedItem.isbn+"-S.jpg"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1)])]:e._e(),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"title",name:"title",label:e.$t("books.headers.TITLE"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"notes",name:"notes",label:e.$t("books.headers.NOTES"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.notes,callback:function(t){e.$set(e.editedItem,"notes",t)},expression:"editedItem.notes"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required|numeric"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"isbn",name:"isbn",label:"ISBN","error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.isbn,callback:function(t){e.$set(e.editedItem,"isbn",t)},expression:"editedItem.isbn"}})]}}],null,!0)})],1),e.editedItem._id?a("v-flex",{attrs:{xs12:""}},[a("FindCollection",{attrs:{label:"Donor",storeItem:"users",storeName:"adminUsers",text:"name",getterFunction:"getUsers"},model:{value:e.editedItem.donor,callback:function(t){e.$set(e.editedItem,"donor",t)},expression:"editedItem.donor"}})],1):e._e(),e.editedItem._id?a("v-flex",{attrs:{xs12:""}},[a("FindCollections",{attrs:{label:"Library History",storeItem:"libraries",storeName:"adminLibrary",text:"name",getterFunction:"getLibraries"},model:{value:e.editedItem.history,callback:function(t){e.$set(e.editedItem,"history",t)},expression:"editedItem.history"}})],1):e._e()],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btnCancel",attrs:{color:"red lighten3",text:""},on:{click:e.close}},[e._v(e._s(e.$t("dataTable.CANCEL")))]),a("v-btn",{staticClass:"btnSave",attrs:{color:"green lighten3",text:"",disabled:n},on:{click:e.save}},[e._v(e._s(e.$t("dataTable.SAVE")))])],1)],1)],1)]}}])})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","mb-2":"","mt-2":"","pr-2":""}},[a("v-dialog",{attrs:{fullscreen:"","content-class":"dlgNewEditItem"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("div",{staticClass:"text-right"},[a("v-btn",e._g({staticClass:"btnNewItem",attrs:{color:"secondary"}},n),[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-scan")]),e._v(" "+e._s(e.$t("books.SCAN_BOOKS"))+" ")],1)],1)]}}]),model:{value:e.dialogScanBook,callback:function(t){e.dialogScanBook=t},expression:"dialogScanBook"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Scan Book: "+e._s(e.scanDataISBN))])]),a("v-quagga",{attrs:{onDetected:e.scannedBook,readerTypes:["ean_reader"]}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btnCancel",attrs:{color:"red lighten3",text:""},on:{click:e.closeDialogScanBook}},[e._v(e._s(e.$t("dataTable.CANCEL")))])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item._id",fn:function(t){var n=t.item;return[a("v-layout",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"edit",icon:"",color:"primary"},on:{click:function(t){return e.editItem(n)}}},r),[a("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.EDIT")))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"delete",icon:"",color:"secondary"},on:{click:function(t){return e.deleteItem(n)}}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.DELETE")))])])],1)]}},{key:"item.history",fn:function(t){var n=t.item;return[a("v-layout",{staticClass:"justify-center"},[e._v(" "+e._s(n.history[0])+" ")])]}},{key:"item.createdAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getFormat(a.createdAt))+" ")]}},{key:"item.updatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getFormat(a.updatedAt))+" ")]}},{key:"footer.page-text",fn:function(t){var a=t.pageStart,n=t.pageStop,r=t.itemsLength;return[e._v(" "+e._s(a)+" - "+e._s(n)+" "+e._s(e.$t("dataTable.OF"))+" "+e._s(r)+" ")]}},{key:"no-data",fn:function(){return[e._v(e._s(e.$t("dataTable.NO_DATA")))]},proxy:!0},{key:"no-results",fn:function(){return[e._v(e._s(e.$t("dataTable.NO_RESULTS")))]},proxy:!0}])}),a("ErrorMessage"),a("SuccessMessage")],1)},r=[],s=(a("caad"),a("a15b"),a("d3b7"),a("ac1f"),a("2532"),a("841c"),a("5530")),i=(a("96cf"),a("1da1")),o=a("2f62"),d=a("fa7d"),l={metaInfo:function(){return{title:this.$store.getters.appTitle,titleTemplate:"".concat(this.$t("books.TITLE")," - %s")}},data:function(){return{dataTableLoading:!0,delayTimer:null,dialog:!1,dialogScanBook:!1,search:"",pagination:{},editedItem:{},defaultItem:{},fieldsToSearch:["name","notes"],scanDataISBN:"Not Scanned Yet",scannedBookISBNArr:[],alert:!1,alertText:"No Message"}},computed:{formTitle:function(){return this.editedItem._id?this.$t("dataTable.EDIT_ITEM"):this.$t("dataTable.NEW_ITEM")},startClean:function(){return"2020-05-23 00:00"},headers:function(){return[{text:this.$i18n.t("dataTable.ACTIONS"),value:"_id",sortable:!1,width:100},{text:this.$i18n.t("books.headers.TITLE"),align:"left",sortable:!0,value:"title"},{text:this.$i18n.t("books.headers.NOTES"),align:"left",sortable:!0,value:"notes"},{text:this.$i18n.t("books.headers.ISBN"),align:"left",sortable:!0,value:"isbn"},{text:this.$i18n.t("books.headers.LOCATION"),value:"history",sortable:!1,width:100}]},items:function(){return this.$store.state.adminBook.books},totalItems:function(){return this.$store.state.adminBook.totalBooks}},watch:{dialog:function(e){return!!e||this.close()},pagination:{handler:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dataTableLoading=!0,t.next=4,e.getBooks(Object(d["a"])(e.pagination,e.buildSearch()));case 4:e.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.dataTableLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deep:!0},search:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:clearTimeout(e.delayTimer),e.delayTimer=setTimeout((function(){e.doSearch()}),400);case 2:case"end":return t.stop()}}),t)})))()}},methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])(["getBooks","editBook","saveBook","deleteBook"])),{},{getFormat:function(e){return window.__localeId__=this.$store.getters.locale,Object(d["e"])(e,"iii, MMMM d yyyy, h:mm a")},doSearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dataTableLoading=!0,t.next=4,e.getBooks(Object(d["a"])(e.pagination,e.buildSearch()));case 4:e.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.dataTableLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},buildSearch:function(){return this.search?{query:this.search,fields:this.fieldsToSearch.join(",")}:{}},editItem:function(e){this.editedItem=Object.assign({},e),this.dialog=!0},scannedBook:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.codeResult.code||!t.dialogScanBook||t.scannedBookISBNArr.includes(e.codeResult.code)){a.next=7;break}return t.scannedBookISBNArr.push(e.codeResult.code),t.scanDataISBN=e.codeResult.code,t.editedItem.isbn=t.scanDataISBN,n="https://openlibrary.org/isbn/".concat(t.editedItem.isbn,".json"),a.next=7,fetch(n).then((function(e){return e.json()})).then((function(e){e.full_title?t.editedItem.title=e.full_title:t.editedItem.title=e.title,t.customAlert("The book scanned is ".concat(t.editedItem.title,"!")),t.save()}));case 7:case"end":return a.stop()}}),a)})))()},customAlert:function(e){this.alertText=e,this.alert=!0},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm(t.$t("common.DO_YOU_REALLY_WANT_TO_DELETE_THIS_ITEM"),{title:t.$t("common.WARNING"),buttonTrueText:t.$t("common.DELETE"),buttonFalseText:t.$t("common.CANCEL"),buttonTrueColor:"red lighten3",buttonFalseColor:"green"});case 3:if(n=a.sent,!n){a.next=11;break}return t.dataTableLoading=!0,a.next=8,t.deleteBook(e._id);case 8:return a.next=10,t.getBooks(Object(d["a"])(t.pagination,t.buildSearch()));case 10:t.dataTableLoading=!1;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),t.dataTableLoading=!1;case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem)}),300)},closeDialogScanBook:function(){this.dialogScanBook=!1},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.observer.validate();case 2:if(a=t.sent,!a){t.next=26;break}if(t.prev=4,e.dataTableLoading=!0,!e.editedItem._id){t.next=14;break}return t.next=9,e.editBook(e.editedItem);case 9:return t.next=11,e.getBooks(Object(d["a"])(e.pagination,e.buildSearch()));case 11:e.dataTableLoading=!1,t.next=19;break;case 14:return t.next=16,e.saveBook({title:e.editedItem.title,notes:e.editedItem.notes,isbn:e.editedItem.isbn});case 16:return t.next=18,e.getBooks(Object(d["a"])(e.pagination,e.buildSearch()));case 18:e.dataTableLoading=!1;case 19:e.close(),t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](4),e.dataTableLoading=!1,e.close();case 26:case"end":return t.stop()}}),t,null,[[4,22]])})))()}})},c=l,u=(a("3bf5"),a("2877")),m=a("6544"),v=a.n(m),f=a("8336"),p=a("b0af"),b=a("99d9"),h=a("a523"),g=a("8fea"),_=a("169a"),x=a("0e8f"),T=a("132d"),I=a("adda"),k=a("a722"),y=a("490a"),$=a("0fd9"),S=a("2db4"),E=a("2fa4"),A=a("8654"),w=a("2a7f"),C=a("3a2f"),O=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=O.exports;v()(O,{VBtn:f["a"],VCard:p["a"],VCardActions:b["b"],VCardText:b["d"],VCardTitle:b["e"],VContainer:h["a"],VDataTable:g["a"],VDialog:_["a"],VFlex:x["a"],VIcon:T["a"],VImg:I["a"],VLayout:k["a"],VProgressCircular:y["a"],VRow:$["a"],VSnackbar:S["a"],VSpacer:E["a"],VTextField:A["a"],VToolbarTitle:w["c"],VTooltip:C["a"]})},"99ef":function(e,t,a){},"9a52":function(e,t,a){"use strict";a("f195")},a697:function(e,t,a){"use strict";a("99ef")},ab13:function(e,t,a){var n=a("b622"),r=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}},adc5:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.dataTableLoading,"no-data-text":e.$t("dataTable.NO_DATA"),"no-results-text":e.$t("dataTable.NO_RESULTS"),headers:e.headers,items:e.items,options:e.pagination,"items-per-page":5,"server-items-length":e.totalItems,"footer-props":{"items-per-page-text":e.$t("dataTable.ROWS_PER_PAGE"),"items-per-page-options":[5,10,25]}},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-layout",{attrs:{wrap:""}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"2",al:""}},[a("div",{staticClass:"text-left"},[a("v-toolbar-title",[e._v(e._s(e.$t("sessions.TITLE")))])],1)]),a("v-col",{attrs:{cols:"2"}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[a("v-text-field",{attrs:{outlined:"",dense:"","append-icon":"mdi-magnify",label:e.$t("dataTable.SEARCH"),id:"search","single-line":"","hide-details":"",clearable:"","clear-icon":"mdi-close"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[a("v-combobox",{attrs:{outlined:"",dense:"",items:e.searchFields,label:"Fields",multiple:""},model:{value:e.fieldsToSearch,callback:function(t){e.fieldsToSearch=t},expression:"fieldsToSearch"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","mb-2":"","mt-2":"","pr-2":""}},[a("ValidationObserver",{ref:"observer",attrs:{tag:"form"},on:{submit:function(t){return t.preventDefault(),e.submit()}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid;return[a("v-dialog",{attrs:{"max-width":"500px","content-class":"dlgNewEditItem"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[e.editedItem._id?[a("v-flex",{attrs:{xs12:"",md6:""}},[a("label",{attrs:{for:"createdAt"}},[e._v(e._s(e.$t("common.CREATED")))]),a("div",{attrs:{name:"createdAt"}},[e._v(" "+e._s(e.getFormat(e.editedItem.createdAt))+" ")])]),a("v-flex",{attrs:{xs12:"",md6:""}},[a("label",{attrs:{for:"updatedAt"}},[e._v(e._s(e.$t("common.UPDATED")))]),a("div",{attrs:{name:"updatedAt"}},[e._v(" "+e._s(e.getFormat(e.editedItem.updatedAt))+" ")])])]:e._e(),[a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"reading",name:"reading",label:e.$t("sessions.headers.READING"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.reading,callback:function(t){e.$set(e.editedItem,"reading",t)},expression:"editedItem.reading"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"comprehension",name:"comprehension",label:e.$t("sessions.headers.COMPREHENSION"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.comprehension,callback:function(t){e.$set(e.editedItem,"comprehension",t)},expression:"editedItem.comprehension"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"retention",name:"retention",label:e.$t("sessions.headers.RETENTION"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.retention,callback:function(t){e.$set(e.editedItem,"retention",t)},expression:"editedItem.retention"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"note",name:"note",label:e.$t("sessions.headers.NOTE"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.note,callback:function(t){e.$set(e.editedItem,"note",t)},expression:"editedItem.note"}})]}}],null,!0)})],1)]],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btnCancel",attrs:{color:"red lighten3",text:""},on:{click:e.close}},[e._v(e._s(e.$t("dataTable.CANCEL")))]),a("v-btn",{staticClass:"btnSave",attrs:{color:"green lighten3",text:"",disabled:n},on:{click:e.save}},[e._v(e._s(e.$t("dataTable.SAVE")))])],1)],1)],1)]}}])})],1)],1)]},proxy:!0},{key:"item._id",fn:function(t){var n=t.item;return[a("v-layout",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""}},[a("span",[e._v(e._s(e.$t("dataTable.VIEW")))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"edit",icon:"",color:"primary"},on:{click:function(t){return e.editItem(n)}}},r),[a("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.EDIT")))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"delete",icon:"",color:"secondary"},on:{click:function(t){return e.deleteItem(n)}}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.DELETE")))])])],1)]}},{key:"item.createdAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getFormat(a.createdAt))+" ")]}},{key:"item.updatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getFormat(a.updatedAt))+" ")]}},{key:"footer.page-text",fn:function(t){var a=t.pageStart,n=t.pageStop,r=t.itemsLength;return[e._v(" "+e._s(a)+" - "+e._s(n)+" "+e._s(e.$t("dataTable.OF"))+" "+e._s(r)+" ")]}},{key:"no-data",fn:function(){return[e._v(e._s(e.$t("dataTable.NO_DATA")))]},proxy:!0},{key:"no-results",fn:function(){return[e._v(e._s(e.$t("dataTable.NO_RESULTS")))]},proxy:!0}])}),a("ErrorMessage"),a("SuccessMessage")],1)},r=[],s=(a("a15b"),a("ac1f"),a("841c"),a("5530")),i=(a("96cf"),a("1da1")),o=a("2f62"),d=a("fa7d"),l={metaInfo:function(){return{title:this.$store.getters.appTitle,titleTemplate:"".concat(this.$t("events.TITLE")," - %s")}},data:function(){return{dataTableLoading:!0,delayTimer:null,dialog:!1,search:"",pagination:{},editedItem:{},defaultItem:{},fieldsToSearch:["event.name"],searchFields:["event.name","mentor.name","mentor.card","mentee.name","note"]}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllSessions(Object(d["a"])(e.pagination,e.buildSearch()));case 2:case"end":return t.stop()}}),t)})))()},computed:{formTitle:function(){return this.editedItem._id?this.$t("dataTable.EDIT_ITEM"):this.$t("dataTable.NEW_ITEM")},types:function(){return[{name:this.$t("eventTypes.MEETING"),value:"meeting"},{name:this.$t("eventTypes.SESSION"),value:"session"}]},startClean:function(){return"2020-05-23 00:00"},headers:function(){return[{text:this.$i18n.t("dataTable.ACTIONS"),value:"_id",sortable:!1,width:100},{text:this.$i18n.t("sessions.headers.EVENT"),align:"left",sortable:!0,value:"event[0].name"},{text:this.$i18n.t("sessions.headers.MENTEE"),align:"left",sortable:!0,value:"mentee[0].name"},{text:this.$i18n.t("sessions.headers.MENTOR"),align:"left",sortable:!0,value:"mentor[0].name"},{text:this.$i18n.t("sessions.headers.NOTE"),align:"left",sortable:!0,value:"note"},{text:this.$i18n.t("sessions.headers.READING"),align:"left",sortable:!0,value:"reading"},{text:this.$i18n.t("sessions.headers.COMPREHENSION"),align:"left",sortable:!0,value:"comprehension"},{text:this.$i18n.t("sessions.headers.RETENTION"),align:"left",sortable:!0,value:"retention"}]},items:function(){return this.$store.state.sessions.session_data},totalItems:function(){return this.$store.state.sessions.total_session_data}},watch:{dialog:function(e){return!!e||this.close()},pagination:{handler:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dataTableLoading=!0,t.next=4,e.getAllSessions(Object(d["a"])(e.pagination,e.buildSearch()));case 4:e.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.dataTableLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deep:!0},search:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:clearTimeout(e.delayTimer),e.delayTimer=setTimeout((function(){e.doSearch()}),400);case 2:case"end":return t.stop()}}),t)})))()}},methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])(["getAllSessions","saveSession","deleteSession"])),{},{getFormat:function(e){return window.__localeId__=this.$store.getters.locale,Object(d["e"])(e,"iii, MMMM d yyyy, h:mm a")},doSearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dataTableLoading=!0,t.next=4,e.getAllSessions(Object(d["a"])(e.pagination,e.buildSearch()));case 4:e.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.dataTableLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},buildSearch:function(){return this.search?{query:this.search,fields:this.fieldsToSearch.join(",")}:{}},editItem:function(e){this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm(t.$t("common.DO_YOU_REALLY_WANT_TO_DELETE_THIS_ITEM"),{title:t.$t("common.WARNING"),buttonTrueText:t.$t("common.DELETE"),buttonFalseText:t.$t("common.CANCEL"),buttonTrueColor:"red lighten3",buttonFalseColor:"green"});case 3:if(n=a.sent,!n){a.next=11;break}return t.dataTableLoading=!0,a.next=8,t.deleteSession({id:e._id});case 8:return a.next=10,t.getAllSessions(Object(d["a"])(t.pagination,t.buildSearch()));case 10:t.dataTableLoading=!1;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),t.dataTableLoading=!1;case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem)}),300)},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.observer.validate();case 2:if(a=t.sent,!a){t.next=21;break}return t.prev=4,e.dataTableLoading=!0,n=e.editedItem.mentor[0]._id,r=e.editedItem.mentee[0]._id,s=e.editedItem.event[0]._id,t.next=11,e.saveSession({reading:e.editedItem.reading,comprehension:e.editedItem.comprehension,retention:e.editedItem.retention,note:e.editedItem.note,mentor:n,mentee:r,event:s});case 11:return t.next=13,e.getAllSessions(Object(d["a"])(e.pagination,e.buildSearch()));case 13:e.dataTableLoading=!1,e.close(),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](4),e.dataTableLoading=!1,e.close();case 21:case"end":return t.stop()}}),t,null,[[4,17]])})))()}})},c=l,u=(a("7504"),a("2877")),m=a("6544"),v=a.n(m),f=a("8336"),p=a("b0af"),b=a("99d9"),h=a("62ad"),g=a("2b5d"),_=a("a523"),x=a("8fea"),T=a("169a"),I=a("0e8f"),k=a("132d"),y=a("a722"),$=a("0fd9"),S=a("2fa4"),E=a("8654"),A=a("2a7f"),w=a("3a2f"),C=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=C.exports;v()(C,{VBtn:f["a"],VCard:p["a"],VCardActions:b["b"],VCardText:b["d"],VCardTitle:b["e"],VCol:h["a"],VCombobox:g["a"],VContainer:_["a"],VDataTable:x["a"],VDialog:T["a"],VFlex:I["a"],VIcon:k["a"],VLayout:y["a"],VRow:$["a"],VSpacer:S["a"],VTextField:E["a"],VToolbarTitle:A["c"],VTooltip:w["a"]})},caad:function(e,t,a){"use strict";var n=a("23e7"),r=a("4d64").includes,s=a("44d2"),i=a("ae40"),o=i("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!o},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},e10c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.dataTableLoading,"no-data-text":e.$t("dataTable.NO_DATA"),"no-results-text":e.$t("dataTable.NO_RESULTS"),headers:e.headers,items:e.items,options:e.pagination,"items-per-page":5,"server-items-length":e.totalItems,"footer-props":{"items-per-page-text":e.$t("dataTable.ROWS_PER_PAGE"),"items-per-page-options":[5,10,25]}},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-layout",{attrs:{wrap:""}},[a("v-row",{staticStyle:{margin:"10px 10px -10px 10px"},attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"2",al:""}},[a("div",{staticClass:"text-left"},[a("v-toolbar-title",[e._v(e._s(e.$t("users.TITLE")))])],1)]),a("v-col",{attrs:{cols:"2"}}),a("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[a("v-text-field",{attrs:{outlined:"",dense:"","append-icon":"mdi-magnify",label:e.$t("dataTable.SEARCH"),id:"search","single-line":"","hide-details":"",clearable:"","clear-icon":"mdi-close"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[a("v-combobox",{attrs:{outlined:"",dense:"",items:e.searchFields,label:"Fields",multiple:""},model:{value:e.fieldsToSearch,callback:function(t){e.fieldsToSearch=t},expression:"fieldsToSearch"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm3:"",md2:"","text-xs-right":"","mb-2":"","mt-2":"","pr-2":""}},[a("ValidationObserver",{ref:"observer",attrs:{tag:"form"},on:{submit:function(t){return t.preventDefault(),e.submit()}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid;return[a("v-dialog",{attrs:{"max-width":"800px","content-class":"dlgNewEditItem"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("div",{staticClass:"text-right"},[a("v-btn",e._g({staticClass:"btnNewItem pr-4",attrs:{color:"secondary"}},n),[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-plus")]),e._v(" "+e._s(e.$t("dataTable.NEW_ITEM"))+" ")],1)],1)]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[e.editedItem._id?[a("v-flex",{attrs:{xs12:"",md4:""}},[a("label",{attrs:{for:"createdAt"}},[e._v(e._s(e.$t("common.CREATED")))]),a("div",{attrs:{name:"createdAt"}},[e._v(" "+e._s(e.getFormat(e.editedItem.createdAt))+" ")])]),a("v-flex",{attrs:{xs12:"",md4:""}},[a("label",{attrs:{for:"updatedAt"}},[e._v(e._s(e.$t("common.UPDATED")))]),a("div",{attrs:{name:"updatedAt"}},[e._v(" "+e._s(e.getFormat(e.editedItem.updatedAt))+" ")])]),a("v-flex",{attrs:{xs12:"",md4:""}},[a("label",{attrs:{for:"verified"}},[e._v(e._s(e.$t("users.headers.VERIFIED")))]),a("div",{attrs:{name:"verified"},domProps:{innerHTML:e._s(e.trueFalse(e.editedItem.verified))}})])]:e._e(),a("v-flex",{attrs:{xs12:"",md6:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{id:"name",name:"name",label:e.$t("users.headers.NAME"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{id:"username",name:"username",label:e.$t("users.headers.USERNAME"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.username,callback:function(t){e.$set(e.editedItem,"username",t)},expression:"editedItem.username"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{id:"email",name:"email",type:"email",label:e.$t("users.headers.EMAIL"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})]}}],null,!0)})],1),e.editedItem._id?e._e():[a("v-flex",{attrs:{xs12:"",md6:""}},[a("ValidationProvider",{attrs:{rules:"required|min:5",vid:"password"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{key:"password",ref:"password",attrs:{id:"password",name:"password",type:"password",label:e.$t("users.PASSWORD"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("ValidationProvider",{attrs:{rules:"required|min:5|confirmed:password"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{key:"confirmPassword",attrs:{id:"confirmPassword",name:"confirmPassword",type:"password",label:e.$t("users.CONFIRM_PASSWORD"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.confirmPassword,callback:function(t){e.$set(e.editedItem,"confirmPassword",t)},expression:"editedItem.confirmPassword"}})]}}],null,!0)})],1)],a("v-flex",{attrs:{xs12:"",md6:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-select",{staticClass:"inputRole",attrs:{clearable:"",id:"role",name:"role",items:e.roles,"item-text":"name","item-value":"value",label:e.$t("users.headers.ROLE"),error:n.length>0,"error-messages":n[0]},model:{value:e.editedItem.role,callback:function(t){e.$set(e.editedItem,"role",t)},expression:"editedItem.role"}})]}}],null,!0)})],1),"admin"===e.editedItem.role||"mentor"===e.editedItem.role?a("v-flex",{attrs:{xs12:"",md6:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{id:"uin",name:"uin",type:"tel",label:e.$t("users.headers.UIN"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.uin,callback:function(t){e.$set(e.editedItem,"uin",t)},expression:"editedItem.uin"}})]}}],null,!0)})],1):e._e(),"admin"===e.editedItem.role||"mentor"===e.editedItem.role?a("v-flex",{attrs:{xs12:"",md6:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{id:"card",name:"card",type:"text",label:e.$t("users.headers.CARD"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.card,callback:function(t){e.$set(e.editedItem,"card",t)},expression:"editedItem.card"}})]}}],null,!0)})],1):e._e(),"admin"===e.editedItem.role||"mentor"===e.editedItem.role?a("v-flex",{attrs:{xs12:"",md6:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{id:"phone",name:"phone",type:"number",label:e.$t("users.headers.PHONE"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.phone,callback:function(t){e.$set(e.editedItem,"phone",t)},expression:"editedItem.phone"}})]}}],null,!0)})],1):e._e(),"admin"===e.editedItem.role||"mentor"===e.editedItem.role?a("v-flex",{attrs:{xs12:"",md12:""}},[a("ValidationProvider",{attrs:{rules:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{id:"info",name:"info",type:"text",label:e.$t("users.headers.INFO"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.info,callback:function(t){e.$set(e.editedItem,"info",t)},expression:"editedItem.info"}})]}}],null,!0)})],1):e._e()],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btnCancel",attrs:{color:"red lighten3",text:""},on:{click:e.close}},[e._v(e._s(e.$t("dataTable.CANCEL")))]),a("v-btn",{staticClass:"btnSave",attrs:{color:"green",text:"",disabled:n},on:{click:e.save}},[e._v(e._s(e.$t("dataTable.SAVE")))])],1)],1)],1)]}}])})],1)],1)]},proxy:!0},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.name))]),a("td",[e._v(e._s(t.item.username))]),a("td",[e._v(e._s(t.item.email))]),a("td",[e._v(e._s(e.roleName(t.item.role)))]),a("td",{domProps:{innerHTML:e._s(e.trueFalse(t.item.verified))}}),a("td",[e._v(e._s(t.item.uin))]),a("td",[e._v(e._s(t.item.card))]),a("td",[e._v(e._s(t.item.status))]),a("td",[e._v(e._s(t.item.phone))]),a("td",[e._v(e._s(t.item.info))])]}},{key:"item._id",fn:function(t){var n=t.item;return[a("td",{staticClass:"fill-height px-0"},[a("v-layout",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"mx-0",attrs:{id:"edit",icon:"",color:"primary"},on:{click:function(t){return e.editItem(n)}}},r),[a("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.EDIT")))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"mx-0",attrs:{id:"delete",icon:"",color:"secondary"},on:{click:function(t){return e.deleteItem(n)}}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.DELETE")))])])],1)],1)]}},{key:"item.createdAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getFormat(a.createdAt))+" ")]}},{key:"item.updatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getFormat(a.updatedAt))+" ")]}},{key:"footer.page-text",fn:function(t){var a=t.pageStart,n=t.pageStop,r=t.itemsLength;return[e._v(" "+e._s(a)+" - "+e._s(n)+" "+e._s(e.$t("dataTable.OF"))+" "+e._s(r)+" ")]}},{key:"no-data",fn:function(){return[e._v(e._s(e.$t("dataTable.NO_DATA")))]},proxy:!0},{key:"no-results",fn:function(){return[e._v(e._s(e.$t("dataTable.NO_RESULTS")))]},proxy:!0}])}),a("ErrorMessage"),a("SuccessMessage")],1)},r=[],s=(a("a15b"),a("b0c0"),a("ac1f"),a("841c"),a("5530")),i=(a("96cf"),a("1da1")),o=a("2f62"),d=a("fa7d"),l={metaInfo:function(){return{title:this.$store.getters.appTitle,titleTemplate:"".concat(this.$t("users.TITLE")," - %s")}},data:function(){return{searchInput:"",dataTableLoading:!0,delayTimer:null,dialog:!1,search:"",pagination:{},editedItem:{},defaultItem:{},fieldsToSearch:["name","username"],searchFields:["name","username","email","role","uin","card"]}},computed:{roles:function(){return[{name:this.$t("roles.ADMIN"),value:"admin"},{name:this.$t("roles.TEACHER"),value:"teacher"},{name:this.$t("roles.MENTOR"),value:"mentor"},{name:this.$t("roles.MENTEE"),value:"mentee"},{name:this.$t("roles.USER"),value:"user"}]},isMentorOrAdmin:function(e){return"user"===e||"mentor"===e?"required":""},formTitle:function(){return this.editedItem._id?this.$t("dataTable.EDIT_ITEM"):this.$t("dataTable.NEW_ITEM")},headers:function(){return[{text:this.$i18n.t("dataTable.ACTIONS"),value:"_id",sortable:!1,width:100},{text:this.$i18n.t("users.headers.NAME"),align:"left",sortable:!0,value:"name"},{text:this.$i18n.t("users.headers.USERNAME"),align:"left",sortable:!0,value:"username"},{text:this.$i18n.t("users.headers.EMAIL"),align:"left",sortable:!0,value:"email"},{text:this.$i18n.t("users.headers.ROLE"),align:"left",sortable:!0,value:"role"},{text:this.$i18n.t("users.headers.STATUS"),align:"left",sortable:!0,value:"status"},{text:this.$i18n.t("users.headers.UIN"),align:"left",sortable:!0,value:"uin"},{text:this.$i18n.t("users.headers.INFO"),align:"left",sortable:!0,value:"info"}]},items:function(){return this.$store.state.adminUsers.users},totalItems:function(){return this.$store.state.adminUsers.totalUsers}},watch:{dialog:function(e){return!!e||this.close()},pagination:{handler:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dataTableLoading=!0,t.next=4,e.getUsers(Object(d["a"])(e.pagination,e.buildSearch()));case 4:e.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.dataTableLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deep:!0},search:function(){var e=this;clearTimeout(this.delayTimer),this.delayTimer=setTimeout((function(){e.doSearch()}),400)},fieldsToSearch:function(){var e=this;clearTimeout(this.delayTimer),this.delayTimer=setTimeout((function(){e.doSearch()}),400)}},methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])(["getUsers","editUser","saveUser","deleteUser"])),{},{getFormat:function(e){return window.__localeId__=this.$store.getters.locale,Object(d["e"])(e,"iii, MMMM d yyyy, h:mm a")},roleName:function(e){return"admin"===e?this.$t("roles.ADMIN"):this.$t("roles.USER")},trueFalse:function(e){return e?'<i aria-hidden="true" class="v-icon mdi mdi-check green--text" style="font-size: 16px;"></i>':'<i aria-hidden="true" class="v-icon mdi mdi-close red--text" style="font-size: 16px;"></i>'},doSearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dataTableLoading=!0,t.next=4,e.getUsers(Object(d["a"])(e.pagination,e.buildSearch()));case 4:e.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.dataTableLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},buildSearch:function(){return this.search?{query:this.search,fields:this.fieldsToSearch.join(",")}:{}},editItem:function(e){this.editedItem=Object.assign({},e),this.dialog=!0},addCard:function(e){this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm(t.$t("common.DO_YOU_REALLY_WANT_TO_DELETE_THIS_ITEM"),{title:t.$t("common.WARNING"),buttonTrueText:t.$t("common.DELETE"),buttonFalseText:t.$t("common.CANCEL"),buttonTrueColor:"red lighten3",buttonFalseColor:"yellow"});case 3:if(n=a.sent,!n){a.next=11;break}return t.dataTableLoading=!0,a.next=8,t.deleteUser(e._id);case 8:return a.next=10,t.getUsers(Object(d["a"])(t.pagination,t.buildSearch()));case 10:t.dataTableLoading=!1;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),t.dataTableLoading=!1;case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem)}),300)},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.dataTableLoading=!0,!e.editedItem._id){t.next=10;break}return t.next=5,e.editUser(e.editedItem);case 5:return t.next=7,e.getUsers(Object(d["a"])(e.pagination,e.buildSearch()));case 7:e.dataTableLoading=!1,t.next=15;break;case 10:return t.next=12,e.saveUser({name:e.editedItem.name,email:e.editedItem.email,username:e.editedItem.username,password:e.editedItem.password,role:e.editedItem.role,phone:e.editedItem.phone,card:e.editedItem.card,uin:e.editedItem.uin,info:e.editedItem.info,status:"verified"});case 12:return t.next=14,e.getUsers(Object(d["a"])(e.pagination,e.buildSearch()));case 14:e.dataTableLoading=!1;case 15:return e.close(),t.abrupt("return");case 19:t.prev=19,t.t0=t["catch"](0),e.dataTableLoading=!1,e.close();case 23:case"end":return t.stop()}}),t,null,[[0,19]])})))()}}),mounted:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},c=l,u=(a("e954a"),a("2877")),m=a("6544"),v=a.n(m),f=a("8336"),p=a("b0af"),b=a("99d9"),h=a("62ad"),g=a("2b5d"),_=a("a523"),x=a("8fea"),T=a("169a"),I=a("0e8f"),k=a("132d"),y=a("a722"),$=a("0fd9"),S=a("b974"),E=a("2fa4"),A=a("8654"),w=a("2a7f"),C=a("3a2f"),O=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=O.exports;v()(O,{VBtn:f["a"],VCard:p["a"],VCardActions:b["b"],VCardText:b["d"],VCardTitle:b["e"],VCol:h["a"],VCombobox:g["a"],VContainer:_["a"],VDataTable:x["a"],VDialog:T["a"],VFlex:I["a"],VIcon:k["a"],VLayout:y["a"],VRow:$["a"],VSelect:S["a"],VSpacer:E["a"],VTextField:A["a"],VToolbarTitle:w["c"],VTooltip:C["a"]})},e954a:function(e,t,a){"use strict";a("ff41")},f01f:function(e,t,a){},f195:function(e,t,a){},fb06:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.dataTableLoading,"no-data-text":e.$t("dataTable.NO_DATA"),"no-results-text":e.$t("dataTable.NO_RESULTS"),headers:e.headers,items:e.items,options:e.pagination,"items-per-page":5,"server-items-length":e.totalItems,"footer-props":{"items-per-page-text":e.$t("dataTable.ROWS_PER_PAGE"),"items-per-page-options":[5,10,25]}},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md4:"","mt-3":"","pl-4":""}},[a("div",{staticClass:"text-left"},[a("v-toolbar-title",[e._v(e._s(e.$t("libraries.TITLE")))])],1)]),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:e.$t("dataTable.SEARCH"),"single-line":"","hide-details":"",clearable:"",id:"search","clear-icon":"mdi-close"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","mb-2":"","mt-2":"","pr-2":""}},[a("div",{staticClass:"text-left"},[a("v-btn",{staticClass:"btnNewItem",attrs:{color:"secondary",to:"library/books"}},[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-book")]),e._v(" "+e._s(e.$t("libraries.GO_TO_BOOKS"))+" ")],1)],1),a("ValidationObserver",{ref:"observer",attrs:{tag:"form"},on:{submit:function(t){return t.preventDefault(),e.submit()}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid;return[a("v-dialog",{attrs:{"max-width":"500px","content-class":"dlgNewEditItem"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("div",{staticClass:"text-right"},[a("v-btn",e._g({staticClass:"btnNewItem",attrs:{color:"secondary"}},n),[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-plus")]),e._v(" "+e._s(e.$t("dataTable.NEW_ITEM"))+" ")],1)],1)]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[e.editedItem._id?[a("v-flex",{attrs:{xs12:"",md6:""}},[a("label",{attrs:{for:"createdAt"}},[e._v(e._s(e.$t("common.CREATED")))]),a("div",{attrs:{name:"createdAt"}},[e._v(" "+e._s(e.getFormat(e.editedItem.createdAt))+" ")])]),a("v-flex",{attrs:{xs12:"",md6:""}},[a("label",{attrs:{for:"updatedAt"}},[e._v(e._s(e.$t("common.UPDATED")))]),a("div",{attrs:{name:"updatedAt"}},[e._v(" "+e._s(e.getFormat(e.editedItem.updatedAt))+" ")])])]:e._e(),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"name",name:"name",label:e.$t("libraries.headers.NAME"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"identifier",name:"identifier",label:e.$t("libraries.headers.IDENTIFIER"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.identifier,callback:function(t){e.$set(e.editedItem,"identifier",t)},expression:"editedItem.identifier"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"info",name:"info",label:e.$t("libraries.headers.INFO"),error:n.length>0,"error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.info,callback:function(t){e.$set(e.editedItem,"info",t)},expression:"editedItem.info"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required|decimal"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"Longitude",name:"longitude",label:"longitude","error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.location.coordinates[0],callback:function(t){e.$set(e.editedItem.location.coordinates,0,t)},expression:"editedItem.location.coordinates[0]"}})]}}],null,!0)})],1),a("v-flex",{attrs:{xs12:""}},[a("ValidationProvider",{attrs:{rules:"required|decimal"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("v-text-field",{attrs:{required:"",id:"Latitude",name:"latitude",label:"latitude","error-messages":n[0],autocomplete:"off"},model:{value:e.editedItem.location.coordinates[1],callback:function(t){e.$set(e.editedItem.location.coordinates,1,t)},expression:"editedItem.location.coordinates[1]"}})]}}],null,!0)})],1)],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btnCancel",attrs:{color:"red lighten3",text:""},on:{click:e.close}},[e._v(e._s(e.$t("dataTable.CANCEL")))]),a("v-btn",{staticClass:"btnSave",attrs:{color:"green lighten3",text:"",disabled:n},on:{click:e.save}},[e._v(e._s(e.$t("dataTable.SAVE")))])],1)],1)],1)]}}])})],1)],1)]},proxy:!0},{key:"item._id",fn:function(t){var n=t.item;return[a("v-layout",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"view",icon:"",to:"library/"+n._id,color:"accent"}},r),[a("v-icon",[e._v("mdi-book-open-page-variant")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("libraries.CATALOG")))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"edit",icon:"",color:"primary"},on:{click:function(t){return e.editItem(n)}}},r),[a("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.EDIT")))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"delete",icon:"",color:"secondary"},on:{click:function(t){return e.deleteItem(n)}}},r),[a("v-icon",[e._v("mdi-delete")])],1)]}}],null,!0)},[a("span",[e._v(e._s(e.$t("dataTable.DELETE")))])])],1)]}},{key:"item._maps",fn:function(t){var n=t.item;return[a("v-layout",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"view",icon:"",color:"accent"},on:{click:function(t){return e.openAppleMaps(n)}}},r),[a("v-icon",[e._v("mdi-apple")])],1)]}}],null,!0)},[a("span",[e._v(e._s("Apple "+e.$t("dataTable.MAPS")))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{id:"view",icon:"",color:"accent"},on:{click:function(t){return e.openGoogleMaps(n)}}},r),[a("v-icon",[e._v("mdi-google-maps")])],1)]}}],null,!0)},[a("span",[e._v(e._s("Google "+e.$t("dataTable.MAPS")))])])],1)]}},{key:"item.createdAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getFormat(a.createdAt))+" ")]}},{key:"item.updatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getFormat(a.updatedAt))+" ")]}},{key:"footer.page-text",fn:function(t){var a=t.pageStart,n=t.pageStop,r=t.itemsLength;return[e._v(" "+e._s(a)+" - "+e._s(n)+" "+e._s(e.$t("dataTable.OF"))+" "+e._s(r)+" ")]}},{key:"no-data",fn:function(){return[e._v(e._s(e.$t("dataTable.NO_DATA")))]},proxy:!0},{key:"no-results",fn:function(){return[e._v(e._s(e.$t("dataTable.NO_RESULTS")))]},proxy:!0}])}),a("ErrorMessage"),a("SuccessMessage")],1)},r=[],s=(a("99af"),a("a15b"),a("b0c0"),a("ac1f"),a("841c"),a("5530")),i=(a("96cf"),a("1da1")),o=a("2f62"),d=a("fa7d"),l={metaInfo:function(){return{title:this.$store.getters.appTitle,titleTemplate:"".concat(this.$t("libraries.TITLE")," - %s")}},data:function(){return{dataTableLoading:!0,delayTimer:null,dialog:!1,search:"",pagination:{},editedItem:{location:{coordinates:[0,0]}},defaultItem:{},fieldsToSearch:["name","info"]}},computed:{formTitle:function(){return this.editedItem._id?this.$t("dataTable.EDIT_ITEM"):this.$t("dataTable.NEW_ITEM")},startClean:function(){return"2020-05-23 00:00"},headers:function(){return[{text:this.$i18n.t("dataTable.ACTIONS"),value:"_id",sortable:!1,width:100},{text:this.$i18n.t("libraries.headers.NAME"),align:"left",sortable:!0,value:"name"},{text:this.$i18n.t("libraries.headers.IDENTIFIER"),align:"left",sortable:!0,value:"identifier"},{text:this.$i18n.t("libraries.headers.INFO"),align:"left",sortable:!0,value:"info"},{text:this.$i18n.t("dataTable.MAPS"),value:"_maps",sortable:!1,width:100}]},items:function(){return this.$store.state.adminLibrary.libraries},totalItems:function(){return this.$store.state.adminLibrary.totalLibraries}},watch:{dialog:function(e){return!!e||this.close()},pagination:{handler:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dataTableLoading=!0,t.next=4,e.getLibraries(Object(d["a"])(e.pagination,e.buildSearch()));case 4:e.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.dataTableLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deep:!0},search:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:clearTimeout(e.delayTimer),e.delayTimer=setTimeout((function(){e.doSearch()}),400);case 2:case"end":return t.stop()}}),t)})))()}},methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])(["getLibraries","editLibrary","saveLibrary","deleteLibrary"])),{},{openGoogleMaps:function(e){window.open("http://www.google.com/maps/place/".concat(e.location.coordinates[1],",").concat(e.location.coordinates[0]),"_blank")},openAppleMaps:function(e){window.open("http://maps.apple.com/?sll=".concat(e.location.coordinates[1],",").concat(e.location.coordinates[0]),"_blank")},getFormat:function(e){return window.__localeId__=this.$store.getters.locale,Object(d["e"])(e,"iii, MMMM d yyyy, h:mm a")},doSearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dataTableLoading=!0,t.next=4,e.getLibraries(Object(d["a"])(e.pagination,e.buildSearch()));case 4:e.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.dataTableLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},buildSearch:function(){return this.search?{query:this.search,fields:this.fieldsToSearch.join(",")}:{}},editItem:function(e){this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm(t.$t("common.DO_YOU_REALLY_WANT_TO_DELETE_THIS_ITEM"),{title:t.$t("common.WARNING"),buttonTrueText:t.$t("common.DELETE"),buttonFalseText:t.$t("common.CANCEL"),buttonTrueColor:"red lighten3",buttonFalseColor:"green"});case 3:if(n=a.sent,!n){a.next=11;break}return t.dataTableLoading=!0,a.next=8,t.deleteLibrary(e._id);case 8:return a.next=10,t.getLibraries(Object(d["a"])(t.pagination,t.buildSearch()));case 10:t.dataTableLoading=!1;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),t.dataTableLoading=!1;case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem)}),300)},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.observer.validate();case 2:if(a=t.sent,!a){t.next=26;break}if(t.prev=4,e.dataTableLoading=!0,!e.editedItem._id){t.next=14;break}return t.next=9,e.editLibrary(e.editedItem);case 9:return t.next=11,e.getLibraries(Object(d["a"])(e.pagination,e.buildSearch()));case 11:e.dataTableLoading=!1,t.next=19;break;case 14:return t.next=16,e.saveLibrary({name:e.editedItem.name,info:e.editedItem.info,identifier:e.editedItem.identifier,location:{coordinates:[e.editedItem.location.coordinates[0],e.editedItem.location.coordinates[1]]}});case 16:return t.next=18,e.getLibraries(Object(d["a"])(e.pagination,e.buildSearch()));case 18:e.dataTableLoading=!1;case 19:e.close(),t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](4),e.dataTableLoading=!1,e.close();case 26:case"end":return t.stop()}}),t,null,[[4,22]])})))()}})},c=l,u=(a("ff37"),a("2877")),m=a("6544"),v=a.n(m),f=a("8336"),p=a("b0af"),b=a("99d9"),h=a("a523"),g=a("8fea"),_=a("169a"),x=a("0e8f"),T=a("132d"),I=a("a722"),k=a("2fa4"),y=a("8654"),$=a("2a7f"),S=a("3a2f"),E=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=E.exports;v()(E,{VBtn:f["a"],VCard:p["a"],VCardActions:b["b"],VCardText:b["d"],VCardTitle:b["e"],VContainer:h["a"],VDataTable:g["a"],VDialog:_["a"],VFlex:x["a"],VIcon:T["a"],VLayout:I["a"],VSpacer:k["a"],VTextField:y["a"],VToolbarTitle:$["c"],VTooltip:S["a"]})},ff37:function(e,t,a){"use strict";a("8410")},ff41:function(e,t,a){}}]);